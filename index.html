<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YAIG - Yet Another Icon Generator</title>

  <!-- Favicon and App Icons -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#303F9F">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&family=Noto+Emoji:wght@300..700&display=block" rel="preload" as="style">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&family=Noto+Emoji:wght@300..700&display=block" rel="stylesheet">
</head>
<body>
  <div class="container">
    <header>
      <div class="header-links">
        <button id="config-toggle" class="icon-button" title="View/Edit Config" aria-label="View/Edit Config">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-braces"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 4a2 2 0 0 0 -2 2v3a2 3 0 0 1 -2 3a2 3 0 0 1 2 3v3a2 2 0 0 0 2 2" /><path d="M17 4a2 2 0 0 1 2 2v3a2 3 0 0 0 2 3a2 3 0 0 0 -2 3v3a2 2 0 0 1 -2 2" /></svg>
        </button>
        <button id="theme-toggle" class="icon-button" title="Toggle Dark Mode" aria-label="Toggle Dark Mode">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-sun sun-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 12a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7" /></svg>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-moon moon-icon"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454l0 .008" /></svg>
        </button>
        <a href="https://github.com/markusmo3/icon-generator" target="_blank" rel="noopener noreferrer" title="GitHub Repository">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-github"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" /></svg>
        </a>
      </div>
      <h1>Yet Another Icon Generator</h1>
    </header>

    <div class="main-content">
      <aside class="sidebar">
        <!-- Controls are now generated automatically by the parameter framework -->
      </aside>

      <div class="preview-section">
        <div class="preview-area">
          <h2>Preview</h2>
          <div class="preview-canvases">
            <div class="canvas-container main">
              <div id="preview-512" class="preview-svg"></div>
              <span class="canvas-label">512×512</span>
            </div>
            <div class="canvas-container-row">
              <div class="canvas-container">
                <div id="preview-64" class="preview-svg"></div>
                <span class="canvas-label">64×64</span>
              </div>
              <div class="canvas-container">
                <div id="preview-32" class="preview-svg"></div>
                <span class="canvas-label">32×32</span>
              </div>
              <div class="canvas-container">
                <div id="preview-24" class="preview-svg"></div>
                <span class="canvas-label">24×24</span>
              </div>
              <div class="canvas-container">
                <div id="preview-16" class="preview-svg"></div>
                <span class="canvas-label">16×16</span>
              </div>
            </div>
          </div>
        </div>

        <div class="download-panel">
          <h2>Download</h2>
          <div class="download-buttons">
            <div class="button-grid">
              <button class="outline-button download-btn" data-format="png" data-size="16">16×16</button>
              <button class="outline-button download-btn" data-format="png" data-size="24">24×24</button>
              <button class="outline-button download-btn" data-format="png" data-size="32">32×32</button>
              <button class="outline-button download-btn" data-format="png" data-size="64">64×64</button>
              <button class="outline-button download-btn" data-format="png" data-size="128">128×128</button>
              <button class="outline-button download-btn" data-format="png" data-size="256">256×256</button>
              <button class="outline-button download-btn" data-format="png" data-size="512">512×512</button>
              <button class="outline-button download-btn" data-format="svg">SVG</button>
              <button class="outline-button download-btn" data-format="favicon-pack">favicon</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Icon Selector Modal -->
  <div id="icon-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Select Icon</h2>
        <button id="icon-modal-close" class="close-btn">&times;</button>
      </div>
      <div class="modal-body">
        <label for="icon-search"></label><input type="text" id="icon-search" placeholder="Search icons...">
        <div id="icon-grid" class="picker-grid"></div>
      </div>
    </div>
  </div>

  <!-- Emoji Selector Modal -->
  <div id="emoji-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Select Emoji</h2>
        <button id="emoji-modal-close" class="close-btn">&times;</button>
      </div>
      <div class="modal-body">
        <label for="emoji-search"></label><input type="text" id="emoji-search" placeholder="Search emojis...">
        <div id="emoji-grid" class="picker-grid"></div>
      </div>
    </div>
  </div>

  <!-- Config Viewer Modal -->
  <div id="config-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Configuration JSON</h2>
        <button id="config-modal-close" class="close-btn">&times;</button>
      </div>
      <div class="modal-body">
        <p style="margin-bottom: 12px; color: var(--text-secondary);">
          You can copy, edit, and apply this configuration. Changes will update the icon in real-time.
        </p>
        <label for="config-textarea" style="display: block; margin-bottom: 8px; font-weight: 500;">Configuration JSON:</label>
        <textarea id="config-textarea" rows="20" style="width: 100%; font-family: 'Courier New', monospace; font-size: 12px;"></textarea>
        <div style="display: flex; gap: 12px; margin-top: 16px;">
          <button id="config-apply-btn" class="outline-button">Apply Changes</button>
          <button id="config-copy-btn" class="outline-button">Copy to Clipboard</button>
          <button id="config-reset-btn" class="outline-button">Reset to Default</button>
        </div>
        <div id="config-error" style="color: #e74c3c; margin-top: 12px; display: none;"></div>
      </div>
    </div>
  </div>

  <script type="module" src="src/main.ts"></script>
</body>
</html>
